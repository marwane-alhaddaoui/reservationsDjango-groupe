<!doctype html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}Projet r√©servations - Bienvenue{% endblock %}</title>
</head>
<body>
    <nav>
    <ul>
        <li><a href="{% url 'home' %}">Accueil</a></li>
        <li><a href="{% url 'catalogue:artist-index' %}">Nos artistes</a></li>
        {% if request.user.is_superuser %}
        <li><a href="{% url 'admin:index' %}">Administration</a></li>
        {% endif %}
    </ul>
</nav>
    <div class="container">
        <header>
            <div style="float:right">
                {% if request.user.is_authenticated %}
                <p>Bonjour {{ request.user.username }}!</p>
                <p><a href="{% url 'accounts:user-profile' %}">Mon profil</a></p>
            
                <form action="{% url 'logout' %}" method="post">
                    {% csrf_token %}
                    <button type="submit">Se d√©connecter</button>
                </form>
                {% else %}
                <p>Vous n'√™tes pas connect√©.</p>
                <p><a href="{% url 'login' %}">Se connecter</a></p>
                <p><a href="{% url 'accounts:user-signup' %}">S'inscrire</a></p>
                {% endif %}
    
            </div>
        </header>    
        <div id="notification">
            {% if messages %}
            <ul class="messages">
                {% for message in messages %}
                <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
                {% endfor %}
            </ul>
            {% endif %}
       </div>
    
        {% block content %}{% endblock %}
    </div>
</body>
<style>
  /* Inline CSS rapide, vous pouvez extraire dans static/css/search.css */
  .search-container {
    position: absolute;
    top: 10px;
    left: 10px;
  }
  .search-input {
    padding: 5px;
    border: 1px solid #ccc;
    border-radius: 3px;
  }
  .search-button, .sort-button, .filter-button {
    padding: 5px 10px;
    margin-left: 5px;
    border: 1px solid #ccc;
    border-radius: 3px;
    background-color: white;
    cursor: pointer;
  }
  .search-button:hover, .sort-button:hover, .filter-button:hover {
    background-color: #f0f0f0;
  }
</style>

<div class="search-container">
  <form method="get" action="{% url 'catalogue:search' %}">
    <input
      type="text"
      name="q"
      value="{{ request.GET.q|default_if_none:'' }}"
      placeholder="Rechercher..."
      class="search-input"
    >
    <button type="submit" class="search-button">üîç</button>
    <button type="button" class="sort-button">Trier</button>
    <button type="button" class="filter-button">Filtrer</button>
  </form>
</div>
</html>
